{"version":3,"sources":["WebChat.js","Inspector.js","App.js","index.js"],"names":["_default","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","directLine","fetchToken","fetch","method","res","json","token","setState","createDirectLine","react_default","a","createElement","lib_default","assign","className","React","Component","NothingSelected","Fragment","Inspector","_this$props","inspectedObject","inspectorRef","tabIndex","ref","JSON","stringify","App","activityMiddleware","next","card","children","isSelected","activity","selectedActivity","selectedClass","label","aria-label","concat","onClick","selectActivity","onKeyDown","handleKeyDown","role","prevState","current","focus","e","includes","key","createRef","WebChat_default","Inspector_Inspector","ReactDOM","render","App_App","document","getElementById"],"mappings":"2VAKE,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,MAAQ,CACXC,WAAY,MAJGR,mFASjBG,KAAKM,oLAIaC,MAAM,6DAA8D,CAAEC,OAAQ,uBAA1FC,kBACkBA,EAAIC,uBAApBC,UAERX,KAAKY,SAAS,iBAAO,CACnBP,WAAYQ,2BAAiB,CAAEF,gJAKjC,OAAOX,KAAKI,MAAMC,WAChBS,EAAAC,EAAAC,cAACC,EAAAF,EAADjB,OAAAoB,OAAA,CAAcC,UAAU,OAAOd,WAAYL,KAAKI,MAAMC,YAAgBL,KAAKJ,QAE3EkB,EAAAC,EAAAC,cAAA,6CA1BuBI,IAAMC,WCFnC,SAASC,IACP,OACER,EAAAC,EAAAC,cAACF,EAAAC,EAAMQ,SAAP,KACET,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,mFAKeQ,mLACV,IAAAC,EACmCzB,KAAKJ,MAAvC8B,EADDD,EACCC,gBAAiBC,EADlBF,EACkBE,aAEzB,OACEb,EAAAC,EAAAC,cAAA,OAAKG,UAAU,YAAYS,SAAS,KAAKC,IAAKF,GAC5Cb,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,WAAMU,EAAkBZ,EAAAC,EAAAC,cAAA,WAAMc,KAAKC,UAAUL,EAAiB,KAAM,IAAYZ,EAAAC,EAAAC,cAACM,EAAD,eAPjDD,aCNlBW,cACnB,SAAAA,EAAYpC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgC,IACjBnC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkC,GAAA7B,KAAAH,KAAMJ,KAmBRqC,mBAAqB,kBAAM,SAAAC,GAAI,OAAI,SAAAC,GAAI,OAAI,SAAAC,GACzC,IAAMC,EAAaF,EAAKG,WAAazC,EAAKO,MAAMmC,iBAC1CC,EAAgBH,EAAa,WAAa,GAC1CI,EAAQJ,EAAa,iDAAmD,6BAE9E,OACEvB,EAAAC,EAAAC,cAAA,OACE0B,aAAYD,EACZtB,UAAS,oBAAAwB,OAAsBH,GAC/BI,QAAS/C,EAAKgD,eAAeV,EAAKG,UAClCQ,UAAWjD,EAAKkD,cAAcZ,EAAKG,UACnCU,KAAK,SACLpB,SAAS,KAERM,EAAKC,EAALD,CAAWE,QAlCCvC,EAuCnBgD,eAAiB,SAAAN,GAAgB,OAAI,WACnC1C,EAAKe,SACH,SAAAqC,GAAS,MAAK,CACZV,iBAAkBU,EAAUV,mBAAqBA,EAAmB,KAAOA,IAE7E,WACM1C,EAAKO,MAAMmC,kBACb1C,EAAK8B,aAAauB,QAAQC,YA9CftD,EAoDnBkD,cAAgB,SAAAF,GAAc,OAAI,SAAAO,GAC5B,CAAC,IAAK,SAASC,SAASD,EAAEE,MAC5BzD,EAAKgD,eAAeA,EAApBhD,CAAoCuD,KAnDtCvD,EAAKO,MAAQ,CACXmC,iBAAkB,MAEpB1C,EAAK8B,aAAeP,IAAMmC,YANT1D,wEASV,IACC0C,EAAqBvC,KAAKI,MAA1BmC,iBAER,OACEzB,EAAAC,EAAAC,cAAA,OAAKG,UAAU,OACbL,EAAAC,EAAAC,cAACwC,EAAD,CAAcvB,mBAAoBjC,KAAKiC,qBACvCnB,EAAAC,EAAAC,cAACyC,EAAD,CAAW/B,gBAAiBa,EAAkBZ,aAAc3B,KAAK2B,uBAhBxCP,IAAMC,WCEvCqC,IAASC,OAAO7C,EAAAC,EAAAC,cAAC4C,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.61d32fc3.chunk.js","sourcesContent":["import React from 'react';\n\nimport ReactWebChat, { createDirectLine } from 'botframework-webchat';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      directLine: null\n    };\n  }\n\n  componentDidMount() {\n    this.fetchToken();\n  }\n\n  async fetchToken() {\n    const res = await fetch('https://webchat-mockbot.azurewebsites.net/directline/token', { method: 'POST' });\n    const { token } = await res.json();\n\n    this.setState(() => ({\n      directLine: createDirectLine({ token })\n    }));\n  }\n\n  render() {\n    return this.state.directLine ? (\n      <ReactWebChat className=\"chat\" directLine={this.state.directLine} {...this.props} />\n    ) : (\n      <div>Connecting to bot&hellip;</div>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nfunction NothingSelected() {\n  return (\n    <React.Fragment>\n      <h4>Nothing selected</h4>\n      <p>Click on any message sent from the user or the bot to inspect it.</p>\n    </React.Fragment>\n  );\n}\n\nexport default class Inspector extends Component {\n  render() {\n    const { inspectedObject, inspectorRef } = this.props;\n\n    return (\n      <div className=\"inspector\" tabIndex=\"-1\" ref={inspectorRef}>\n        <h2>Inspector</h2>\n        <div>{inspectedObject ? <pre>{JSON.stringify(inspectedObject, null, 4)}</pre> : <NothingSelected />}</div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nimport ReactWebChat from './WebChat';\nimport Inspector from './Inspector';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selectedActivity: null\n    };\n    this.inspectorRef = React.createRef();\n  }\n\n  render() {\n    const { selectedActivity } = this.state;\n\n    return (\n      <div className=\"app\">\n        <ReactWebChat activityMiddleware={this.activityMiddleware} />\n        <Inspector inspectedObject={selectedActivity} inspectorRef={this.inspectorRef} />\n      </div>\n    );\n  }\n\n  activityMiddleware = () => next => card => children => {\n    const isSelected = card.activity === this.state.selectedActivity;\n    const selectedClass = isSelected ? 'selected' : '';\n    const label = isSelected ? 'Selected activity. Click to deselect activity.' : 'Click to inspect activity.';\n\n    return (\n      <div\n        aria-label={label}\n        className={`activity-wrapper ${selectedClass}`}\n        onClick={this.selectActivity(card.activity)}\n        onKeyDown={this.handleKeyDown(card.activity)}\n        role=\"button\"\n        tabIndex=\"0\"\n      >\n        {next(card)(children)}\n      </div>\n    );\n  };\n\n  selectActivity = selectedActivity => () => {\n    this.setState(\n      prevState => ({\n        selectedActivity: prevState.selectedActivity === selectedActivity ? null : selectedActivity\n      }),\n      () => {\n        if (this.state.selectedActivity) {\n          this.inspectorRef.current.focus();\n        }\n      }\n    );\n  };\n\n  handleKeyDown = selectActivity => e => {\n    if ([' ', 'Enter'].includes(e.key)) {\n      this.selectActivity(selectActivity)(e);\n    }\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}